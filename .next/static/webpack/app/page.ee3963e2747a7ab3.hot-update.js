"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./src/app/page.tsx":
/*!**************************!*\
  !*** ./src/app/page.tsx ***!
  \**************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _swc_helpers_tagged_template_literal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @swc/helpers/_/_tagged_template_literal */ \"(app-pages-browser)/./node_modules/@swc/helpers/esm/_tagged_template_literal.js\");\n/* harmony import */ var _emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @emotion/react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/@emotion/react/jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.browser.esm.js\");\n/* harmony import */ var _components_CanvasModal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/components/CanvasModal */ \"(app-pages-browser)/./src/components/CanvasModal.tsx\");\n/* harmony import */ var _emotion_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @emotion/react */ \"(app-pages-browser)/./node_modules/@emotion/react/dist/emotion-react.browser.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/** @jsxImportSource @emotion/react */ /* __next_internal_client_entry_do_not_use__ default auto */ \nfunction _templateObject() {\n    const data = (0,_swc_helpers_tagged_template_literal__WEBPACK_IMPORTED_MODULE_0__._)([\n        \"\\n  display: flex;\\n  flex-direction: row;\\n  gap: 10px;\\n\"\n    ]);\n    _templateObject = function() {\n        return data;\n    };\n    return data;\n}\nfunction _templateObject1() {\n    const data = (0,_swc_helpers_tagged_template_literal__WEBPACK_IMPORTED_MODULE_0__._)([\n        \"\\n  border-radius: 50%;\\n  overflow: hidden;\\n\"\n    ]);\n    _templateObject1 = function() {\n        return data;\n    };\n    return data;\n}\n\nvar _s = $RefreshSig$();\n\n\n\nconst photoMountsContainerStyle = (0,_emotion_react__WEBPACK_IMPORTED_MODULE_3__.css)(_templateObject());\nconst photoMountStyle = (0,_emotion_react__WEBPACK_IMPORTED_MODULE_3__.css)(_templateObject1());\nconst Canvas = ()=>{\n    _s();\n    const [polygons, setPolygons] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [selectedPolygonIndex, setSelectedPolygonIndex] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"None\");\n    const [predictionRange, setPredictionRange] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(0.5);\n    const [scaleFactor, setScaleFactor] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(1.0);\n    const [currentPolygon, setCurrentPolygon] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [isWheelDown, setIsWheelDown] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [startPos, setStartPos] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({\n        x: 0,\n        y: 0\n    });\n    const [fileContent, setFileContent] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [showModal, setShowModal] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [modalPos, setModalPos] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({\n        x: 0,\n        y: 0\n    });\n    const [modalPolygonIndex, setModalPolygonIndex] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [hoveredPolygonIndex, setHoveredPolygonIndex] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [photoMounts, setPhotoMounts] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const dragStart = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)({\n        x: 0,\n        y: 0\n    });\n    const img = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(new Image());\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        let isVisible = false;\n        polygons.forEach((polygon)=>{\n            if (polygon.labelIndex === selectedPolygonIndex && polygon.prediction >= predictionRange) {\n                isVisible = true;\n            }\n        });\n        if (!isVisible) {\n            setSelectedPolygonIndex(\"None\");\n        }\n    }, [\n        predictionRange,\n        polygons,\n        selectedPolygonIndex\n    ]);\n    0;\n    const getColorForPolygon = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((labelIndex)=>{\n        const colors = [\n            \"rgba(255, 0, 0, 0.5)\",\n            \"rgba(255, 140, 0, 0.5)\",\n            \"rgba(255, 255, 0, 0.5)\",\n            \"rgba(0, 255, 0, 0.5)\",\n            \"rgba(0, 0, 255, 0.5)\",\n            \"rgba(255, 153, 504, 0.5)\"\n        ];\n        return colors[labelIndex % colors.length];\n    }, []);\n    const increaseOpacity = (color)=>{\n        const [r, g, b, a] = color.match(/\\d+/g).map(Number);\n        const increasedOpacity = Math.min(a + 0.2, 1);\n        return \"rgba(\".concat(r, \", \").concat(g, \", \").concat(b, \", \").concat(increasedOpacity, \")\");\n    };\n    const drawPolygon = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((polygon, ctx)=>{\n        if (polygon.prediction < predictionRange) {\n            return;\n        }\n        let fillColor = polygon.color;\n        if (polygon.labelIndex === selectedPolygonIndex || polygon.labelIndex === modalPolygonIndex || hoveredPolygonIndex === polygon.labelIndex) {\n            fillColor = increaseOpacity(fillColor);\n        }\n        ctx.beginPath();\n        polygon.points.forEach((param, index)=>{\n            let [x, y] = param;\n            const adjustedX = x * img.current.width;\n            const adjustedY = y * img.current.height;\n            if (index === 0) {\n                ctx.moveTo(adjustedX, adjustedY);\n            } else {\n                ctx.lineTo(adjustedX, adjustedY);\n            }\n        });\n        ctx.closePath();\n        ctx.fillStyle = fillColor;\n        ctx.fill();\n        ctx.stroke();\n        const centroid = polygon.points.reduce((acc, param)=>{\n            let [x, y] = param;\n            acc.x += x;\n            acc.y += y;\n            return acc;\n        }, {\n            x: 0,\n            y: 0\n        });\n        centroid.x = centroid.x / polygon.points.length * img.current.width * scaleFactor + startPos.x;\n        centroid.y = centroid.y / polygon.points.length * img.current.height * scaleFactor + startPos.y;\n        if (polygon.tag || polygon.description) {\n            ctx.font = \"16px Arial\";\n            ctx.fillStyle = \"black\";\n            ctx.textAlign = \"center\";\n            let textToDisplay = polygon.tag;\n            ctx.fillText(textToDisplay, centroid.x, centroid.y);\n        }\n    }, [\n        predictionRange,\n        selectedPolygonIndex,\n        modalPolygonIndex,\n        hoveredPolygonIndex,\n        scaleFactor,\n        startPos,\n        img\n    ]);\n    const drawCurrentPolygon = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((ctx)=>{\n        if (currentPolygon.length > 0) {\n            ctx.beginPath();\n            currentPolygon.forEach((param, index)=>{\n                let [x, y] = param;\n                if (index === 0) {\n                    ctx.moveTo(x * img.current.width, y * img.current.height);\n                } else {\n                    ctx.lineTo(x * img.current.width, y * img.current.height);\n                }\n            });\n            ctx.closePath();\n            ctx.stroke();\n        }\n    }, [\n        currentPolygon\n    ]);\n    const drawImageAndPolygons = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(()=>{\n        const canvas = canvasRef.current;\n        const ctx = canvas.getContext(\"2d\");\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        ctx.save();\n        ctx.translate(startPos.x, startPos.y);\n        ctx.scale(scaleFactor, scaleFactor);\n        ctx.drawImage(img.current, 0, 0);\n        // polygons.forEach(polygon => drawPolygon(polygon, ctx));\n        polygons.forEach((polygon)=>{\n            if (polygon.prediction >= predictionRange) {\n                drawPolygon(polygon, ctx);\n            }\n        });\n        drawCurrentPolygon(ctx);\n        // polygons.forEach((polygon, index) => {\n        //   drawPolygon(polygon, ctx, index);\n        // });\n        // tags.forEach(tag => {\n        //   ctx.fillText(tag.text, tag.x, tag.y);\n        // });\n        ctx.restore();\n    }, [\n        polygons,\n        drawPolygon,\n        startPos,\n        scaleFactor\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        img.current.src = \"/test58.jpg\";\n        img.current.onload = ()=>{\n            drawImageAndPolygons();\n        };\n    }, [\n        drawImageAndPolygons\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        drawImageAndPolygons();\n    }, [\n        predictionRange,\n        drawImageAndPolygons\n    ]);\n    // const isNearStartPoint = (point, startPoint) => {\n    //   const distance = Math.sqrt(Math.pow(point[0] - startPoint[0], 2) + Math.pow(point[1] - startPoint[1], 2));\n    //   return distance < 0.01;\n    // };\n    // const drawCurrentPolygonWithNewPoint = useCallback((newPoint) => {\n    //   const canvas = canvasRef.current;\n    //   const ctx = canvas.getContext('2d');\n    //   drawCurrentPolygon(ctx);\n    //   if (currentPolygon.length > 0) {\n    //     ctx.beginPath();\n    //     currentPolygon.forEach((point, index) => {\n    //       const adjustedX = point[0] * canvas.width;\n    //       const adjustedY = point[1] * canvas.height;\n    //       if (index === 0) {\n    //         ctx.moveTo(adjustedX, adjustedY);\n    //       } else {\n    //         ctx.lineTo(adjustedX, adjustedY);\n    //       }\n    //       console.log(adjustedX, adjustedY);\n    //     });\n    //     ctx.lineTo(newPoint[0] * canvas.width, newPoint[1] * canvas.height);\n    //     ctx.stroke();\n    //   }\n    // }, [currentPolygon, drawCurrentPolygon]);\n    const distanceBetween = (x1, y1, x2, y2)=>{\n        return Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n    };\n    const handleCanvasClick = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((e)=>{\n        if (showModal) {\n            return null;\n        }\n        const completionThreshold = 0.007;\n        const rect = canvasRef.current.getBoundingClientRect();\n        const scaledX = (e.clientX - rect.left - startPos.x) / scaleFactor;\n        const scaledY = (e.clientY - rect.top - startPos.y) / scaleFactor;\n        const x = scaledX / img.current.width;\n        const y = scaledY / img.current.height;\n        const distance = currentPolygon.length > 0 ? distanceBetween(x, y, currentPolygon[0][0], currentPolygon[0][1]) : Number.MAX_VALUE;\n        setCurrentPolygon((prev)=>[\n                ...prev,\n                [\n                    x,\n                    y\n                ]\n            ]);\n        if (currentPolygon.length > 2 && distance < completionThreshold) {\n            const newPolygon = {\n                labelIndex: 12,\n                // points: [...currentPolygon, currentPolygon[0]],\n                points: [\n                    ...currentPolygon,\n                    [\n                        x,\n                        y\n                    ]\n                ],\n                prediction: 0.95,\n                color: getColorForPolygon(12)\n            };\n            setPolygons((prev)=>[\n                    ...prev,\n                    newPolygon\n                ]);\n            setCurrentPolygon([]);\n        }\n        let foundPolygonIndex = null;\n        polygons.forEach((polygon, index)=>{\n            if (polygon.prediction >= predictionRange) {\n                foundPolygonIndex = index;\n            }\n        });\n        setSelectedPolygonIndex(foundPolygonIndex !== null ? foundPolygonIndex : \"None\");\n    }, [\n        showModal,\n        currentPolygon,\n        polygons,\n        startPos,\n        scaleFactor,\n        img\n    ]);\n    const handleCanvasRightClick = (e)=>{\n        e.preventDefault();\n        if (currentPolygon.length > 0) {\n            setCurrentPolygon([]);\n            return;\n        }\n        setShowModal(true);\n        setModalPos({\n            x: e.clientX + window.scrollX,\n            y: e.clientY + window.scrollY\n        });\n        const rect = canvasRef.current.getBoundingClientRect();\n        const mouseX = (e.clientX - rect.left - startPos.x) / scaleFactor;\n        const mouseY = (e.clientY - rect.top - startPos.y) / scaleFactor;\n        let foundPolygonIndex = null;\n        polygons.forEach((polygon, index)=>{\n            if (isMouseInPolygon(mouseX, mouseY, polygon)) {\n                foundPolygonIndex = index;\n                setModalPolygonIndex(index);\n            }\n        });\n        setModalPolygonIndex(foundPolygonIndex);\n        if (foundPolygonIndex !== null) {\n            setModalPolygonIndex(foundPolygonIndex);\n        } else {\n            setCurrentPolygon([]);\n        }\n    };\n    const isMouseInPolygon = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((mouseX, mouseY, polygon)=>{\n        const canvas = canvasRef.current;\n        const ctx = canvas.getContext(\"2d\");\n        ctx.save();\n        ctx.setTransform(scaleFactor, 0, 0, scaleFactor, startPos.x, startPos.y);\n        ctx.beginPath();\n        if (polygon && Array.isArray(polygon.points)) {\n            polygon.points.forEach((param, index)=>{\n                let [x, y] = param;\n                const polyX = x * img.current.width;\n                const polyY = y * img.current.height;\n                if (index === 0) {\n                    ctx.moveTo(polyX, polyY);\n                } else {\n                    ctx.lineTo(polyX, polyY);\n                }\n            });\n        }\n        ctx.setTransform(1, 0, 0, 1, 0, 0);\n        const isInPath = ctx.isPointInPath(mouseX, mouseY);\n        ctx.restore();\n        return isInPath;\n    }, [\n        scaleFactor,\n        startPos,\n        img\n    ]);\n    const handleMouseDown = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((e)=>{\n        if (e.button === 1) {\n            setIsWheelDown(true);\n            dragStart.current = {\n                x: e.clientX,\n                y: e.clientY\n            };\n            e.currentTarget.style.cursor = \"grabbing\";\n        } else if (e.button === 0) {\n            const rect = canvasRef.current.getBoundingClientRect();\n            const mouseX = e.clientX - rect.left;\n            const mouseY = e.clientY - rect.top;\n            let foundPolygon = false;\n            polygons.forEach((polygon)=>{\n                if (isMouseInPolygon(mouseX, mouseY, polygon)) {\n                    setSelectedPolygonIndex(polygon.labelIndex);\n                    foundPolygon = true;\n                }\n            });\n            if (!foundPolygon) {\n                setSelectedPolygonIndex(\"None\");\n            }\n        }\n    }, [\n        polygons,\n        isWheelDown\n    ]);\n    const handleMouseMove = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((e)=>{\n        if (isWheelDown) {\n            const newOffset = {\n                x: startPos.x + (e.clientX - dragStart.current.x),\n                y: startPos.y + (e.clientY - dragStart.current.y)\n            };\n            setStartPos(newOffset);\n            dragStart.current = {\n                x: e.clientX,\n                y: e.clientY\n            };\n            e.preventDefault();\n        } else {\n            const rect = canvasRef.current.getBoundingClientRect();\n            const mouseX = e.clientX - rect.left;\n            const mouseY = e.clientY - rect.top;\n            let foundPolygon = false;\n            polygons.forEach((polygon)=>{\n                if (isMouseInPolygon(mouseX, mouseY, polygon)) {\n                    setSelectedPolygonIndex(polygon.labelIndex);\n                    foundPolygon = true;\n                }\n            });\n            if (!foundPolygon) {\n                setSelectedPolygonIndex(\"None\");\n            }\n        }\n    }, [\n        isWheelDown,\n        polygons,\n        startPos\n    ]);\n    const handleMouseUp = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((e)=>{\n        if (e.button === 1) {\n            e.preventDefault();\n            setIsWheelDown(false);\n            e.currentTarget.style.cursor = \"default\";\n        }\n    }, []);\n    const handleWheel = (e)=>{\n        if (!isWheelDown) {\n            const delta = Math.sign(e.deltaY);\n            setScaleFactor((prevScale)=>{\n                let newScale = delta > 0 ? prevScale + 0.1 : Math.max(prevScale - 0.1, 0.1);\n                return newScale;\n            });\n        }\n    };\n    const handleFileChange = (e)=>{\n        const file = e.target.files[0];\n        if (!file) {\n            return;\n        }\n        const reader = new FileReader();\n        reader.onload = (e)=>{\n            const content = e.target.result;\n            setFileContent(content);\n            processFileContent(content);\n        };\n        reader.readAsText(file);\n    };\n    const processFileContent = (content)=>{\n        const jsonData = JSON.parse(content);\n        const loadedPolygons = Object.values(jsonData).map((item)=>{\n            const itemStr = typeof item === \"string\" ? item.trim() : JSON.stringify(item).trim();\n            const parts = itemStr.split(\" \");\n            const labelIndex = parseInt(parts[0], 10);\n            const predictionValue = parseFloat(parts[parts.length - 1]);\n            const points = parts.slice(1, -1).map((part, index, array)=>index % 2 === 0 ? [\n                    parseFloat(array[index]),\n                    parseFloat(array[index + 1])\n                ] : null).filter((point)=>point);\n            const color = getColorForPolygon(labelIndex);\n            return {\n                labelIndex,\n                points,\n                prediction: predictionValue,\n                color\n            };\n        });\n        setPolygons(loadedPolygons);\n    };\n    const handleDeletePolygon = ()=>{\n        if (modalPolygonIndex !== null) {\n            setPolygons((prev)=>prev.filter((_, index)=>index !== modalPolygonIndex));\n        }\n        setShowModal(false);\n        setModalPolygonIndex(null);\n    };\n    const handleModalInputUpdate = (modalInputValue)=>{\n        if (modalPolygonIndex !== null) {\n            const updatedPolygons = polygons.map((polygon, index)=>{\n                if (index === modalPolygonIndex) {\n                    return {\n                        ...polygon,\n                        tag: modalInputValue.tag,\n                        description: modalInputValue.description\n                    };\n                }\n                return polygon;\n            });\n            setPolygons(updatedPolygons);\n        }\n        setShowModal(false);\n    };\n    const handleAddPhotoMount = (newPhotoMount)=>{\n        setPhotoMounts([\n            ...photoMounts,\n            newPhotoMount\n        ]);\n    };\n    return /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxDEV)(\"div\", {\n        children: [\n            /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxDEV)(\"div\", {\n                children: [\n                    /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxDEV)(\"div\", {\n                        css: photoMountsContainerStyle,\n                        children: photoMounts.map((mount, index)=>/*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxDEV)(\"div\", {\n                                css: photoMountStyle,\n                                children: /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxDEV)(\"img\", {\n                                    src: mount.imgSrc,\n                                    alt: \"Mount \".concat(index)\n                                }, void 0, false, {\n                                    fileName: \"/Users/iinjae/Desktop/drawing-space/src/app/page.tsx\",\n                                    lineNumber: 442,\n                                    columnNumber: 13\n                                }, undefined)\n                            }, index, false, {\n                                fileName: \"/Users/iinjae/Desktop/drawing-space/src/app/page.tsx\",\n                                lineNumber: 441,\n                                columnNumber: 11\n                            }, undefined))\n                    }, void 0, false, {\n                        fileName: \"/Users/iinjae/Desktop/drawing-space/src/app/page.tsx\",\n                        lineNumber: 439,\n                        columnNumber: 7\n                    }, undefined),\n                    /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxDEV)(\"input\", {\n                        type: \"file\",\n                        onChange: (e)=>{\n                            const file = e.target.files[0];\n                            const newPhotoMount = {\n                                imgSrc: URL.createObjectURL(file)\n                            };\n                            handleAddPhotoMount(newPhotoMount);\n                        }\n                    }, void 0, false, {\n                        fileName: \"/Users/iinjae/Desktop/drawing-space/src/app/page.tsx\",\n                        lineNumber: 449,\n                        columnNumber: 7\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/iinjae/Desktop/drawing-space/src/app/page.tsx\",\n                lineNumber: 437,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxDEV)(\"input\", {\n                type: \"file\",\n                onChange: handleFileChange\n            }, void 0, false, {\n                fileName: \"/Users/iinjae/Desktop/drawing-space/src/app/page.tsx\",\n                lineNumber: 461,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxDEV)(\"p\", {\n                children: [\n                    \"예측값 범위: \",\n                    /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxDEV)(\"span\", {\n                        children: predictionRange\n                    }, void 0, false, {\n                        fileName: \"/Users/iinjae/Desktop/drawing-space/src/app/page.tsx\",\n                        lineNumber: 462,\n                        columnNumber: 18\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/iinjae/Desktop/drawing-space/src/app/page.tsx\",\n                lineNumber: 462,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxDEV)(\"input\", {\n                type: \"range\",\n                min: \"0\",\n                max: \"1\",\n                step: \"0.01\",\n                value: predictionRange,\n                onChange: (e)=>setPredictionRange(e.target.value)\n            }, void 0, false, {\n                fileName: \"/Users/iinjae/Desktop/drawing-space/src/app/page.tsx\",\n                lineNumber: 463,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxDEV)(\"canvas\", {\n                ref: canvasRef,\n                width: 700,\n                height: 900,\n                onMouseDown: handleMouseDown,\n                onMouseUp: handleMouseUp,\n                onMouseMove: handleMouseMove,\n                onClick: handleCanvasClick,\n                onContextMenu: handleCanvasRightClick,\n                onWheel: handleWheel\n            }, void 0, false, {\n                fileName: \"/Users/iinjae/Desktop/drawing-space/src/app/page.tsx\",\n                lineNumber: 471,\n                columnNumber: 7\n            }, undefined),\n            showModal && /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxDEV)(_components_CanvasModal__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n                modalPos: modalPos,\n                onDelete: handleDeletePolygon,\n                onModalInputUpdate: handleModalInputUpdate,\n                setShowModal: setShowModal,\n                currentData: polygons[modalPolygonIndex]\n            }, void 0, false, {\n                fileName: \"/Users/iinjae/Desktop/drawing-space/src/app/page.tsx\",\n                lineNumber: 483,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxDEV)(\"p\", {\n                children: [\n                    \"선택된 폴리곤 라벨 인덱스: \",\n                    /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxDEV)(\"span\", {\n                        children: selectedPolygonIndex\n                    }, void 0, false, {\n                        fileName: \"/Users/iinjae/Desktop/drawing-space/src/app/page.tsx\",\n                        lineNumber: 491,\n                        columnNumber: 26\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/iinjae/Desktop/drawing-space/src/app/page.tsx\",\n                lineNumber: 491,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxDEV)(\"button\", {\n                onClick: ()=>setScaleFactor(scaleFactor + 0.1),\n                children: \"확대\"\n            }, void 0, false, {\n                fileName: \"/Users/iinjae/Desktop/drawing-space/src/app/page.tsx\",\n                lineNumber: 492,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxDEV)(\"button\", {\n                onClick: ()=>setScaleFactor(scaleFactor - 0.1),\n                children: \"축소\"\n            }, void 0, false, {\n                fileName: \"/Users/iinjae/Desktop/drawing-space/src/app/page.tsx\",\n                lineNumber: 493,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/iinjae/Desktop/drawing-space/src/app/page.tsx\",\n        lineNumber: 436,\n        columnNumber: 5\n    }, undefined);\n};\n_s(Canvas, \"gz6RqbnfNcn7XUdwYYxGhFVTaRs=\");\n_c = Canvas;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Canvas);\nvar _c;\n$RefreshReg$(_c, \"Canvas\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O2dCQUNKaUQsTUFBSztnQkFDTEMsT0FBTzdMO2dCQUNQdUwsVUFBVSxDQUFDekYsSUFBTTdGLG1CQUFtQjZGLEVBQUVnRCxNQUFNLENBQUMrQyxLQUFLOzs7Ozs7MEJBRXRELHVFQUFDakg7Z0JBQ0NrSCxLQUFLdEs7Z0JBQ0xnQyxPQUFPO2dCQUNQRSxRQUFRO2dCQUNScUksYUFBYW5FO2dCQUNib0UsV0FBVzVEO2dCQUNYNkQsYUFBYS9EO2dCQUNiZ0UsU0FBU3JHO2dCQUNUc0csZUFBZXRGO2dCQUNmdUYsU0FBUy9EOzs7Ozs7WUFFVnZILDJCQUNDLHVFQUFDNUIsK0RBQVdBO2dCQUNWOEIsVUFBVUE7Z0JBQ1ZxTCxVQUFVM0I7Z0JBQ1Y0QixvQkFBb0IxQjtnQkFDcEI3SixjQUFjQTtnQkFDZHdMLGFBQWEzTSxRQUFRLENBQUNzQixrQkFBa0I7Ozs7OzswQkFHNUMsdUVBQUN3Szs7b0JBQUU7a0NBQWdCLHVFQUFDQztrQ0FBTTdMOzs7Ozs7Ozs7Ozs7MEJBQzFCLHVFQUFDK0g7Z0JBQU9xRSxTQUFTLElBQU0vTCxlQUFlRCxjQUFjOzBCQUFNOzs7Ozs7MEJBQzFELHVFQUFDMkg7Z0JBQU9xRSxTQUFTLElBQU0vTCxlQUFlRCxjQUFjOzBCQUFNOzs7Ozs7Ozs7Ozs7QUFHaEU7R0E3ZE1QO0tBQUFBO0FBK2ROLCtEQUFlQSxNQUFNQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9hcHAvcGFnZS50c3g/ZjY4YSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQGpzeEltcG9ydFNvdXJjZSBAZW1vdGlvbi9yZWFjdCAqL1xuXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCBDYW52YXNNb2RhbCBmcm9tICdAL2NvbXBvbmVudHMvQ2FudmFzTW9kYWwnO1xuaW1wb3J0IHsgY3NzIH0gZnJvbSAnQGVtb3Rpb24vcmVhY3QnO1xuaW1wb3J0IFJlYWN0LCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5cbmNvbnN0IHBob3RvTW91bnRzQ29udGFpbmVyU3R5bGUgPSBjc3NgXG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gIGdhcDogMTBweDtcbmA7XG5cbmNvbnN0IHBob3RvTW91bnRTdHlsZSA9IGNzc2BcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuYDtcblxuY29uc3QgQ2FudmFzID0gKCkgPT4ge1xuICBjb25zdCBbcG9seWdvbnMsIHNldFBvbHlnb25zXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW3NlbGVjdGVkUG9seWdvbkluZGV4LCBzZXRTZWxlY3RlZFBvbHlnb25JbmRleF0gPSB1c2VTdGF0ZSgnTm9uZScpO1xuICBjb25zdCBbcHJlZGljdGlvblJhbmdlLCBzZXRQcmVkaWN0aW9uUmFuZ2VdID0gdXNlU3RhdGUoMC41KTtcbiAgY29uc3QgW3NjYWxlRmFjdG9yLCBzZXRTY2FsZUZhY3Rvcl0gPSB1c2VTdGF0ZSgxLjApO1xuICBjb25zdCBbY3VycmVudFBvbHlnb24sIHNldEN1cnJlbnRQb2x5Z29uXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2lzV2hlZWxEb3duLCBzZXRJc1doZWVsRG93bl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzdGFydFBvcywgc2V0U3RhcnRQb3NdID0gdXNlU3RhdGUoeyB4OiAwLCB5OiAwIH0pO1xuICBjb25zdCBbZmlsZUNvbnRlbnQsIHNldEZpbGVDb250ZW50XSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW3Nob3dNb2RhbCwgc2V0U2hvd01vZGFsXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW21vZGFsUG9zLCBzZXRNb2RhbFBvc10gPSB1c2VTdGF0ZSh7IHg6IDAsIHk6IDAgfSk7XG4gIGNvbnN0IFttb2RhbFBvbHlnb25JbmRleCwgc2V0TW9kYWxQb2x5Z29uSW5kZXhdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtob3ZlcmVkUG9seWdvbkluZGV4LCBzZXRIb3ZlcmVkUG9seWdvbkluZGV4XSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbcGhvdG9Nb3VudHMsIHNldFBob3RvTW91bnRzXSA9IHVzZVN0YXRlKFtdKTtcbiAgXG4gIGNvbnN0IGNhbnZhc1JlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgZHJhZ1N0YXJ0ID0gdXNlUmVmKHsgeDogMCwgeTogMCB9KTtcbiAgY29uc3QgaW1nID0gdXNlUmVmKG5ldyBJbWFnZSgpKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBpc1Zpc2libGUgPSBmYWxzZTtcbiAgICBwb2x5Z29ucy5mb3JFYWNoKHBvbHlnb24gPT4ge1xuICAgICAgaWYgKHBvbHlnb24ubGFiZWxJbmRleCA9PT0gc2VsZWN0ZWRQb2x5Z29uSW5kZXggJiYgcG9seWdvbi5wcmVkaWN0aW9uID49IHByZWRpY3Rpb25SYW5nZSkge1xuICAgICAgICBpc1Zpc2libGUgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuICBcbiAgICBpZiAoIWlzVmlzaWJsZSkge1xuICAgICAgc2V0U2VsZWN0ZWRQb2x5Z29uSW5kZXgoJ05vbmUnKTtcbiAgICB9XG4gIH0sIFtwcmVkaWN0aW9uUmFuZ2UsIHBvbHlnb25zLCBzZWxlY3RlZFBvbHlnb25JbmRleF0pOzBcblxuICBjb25zdCBnZXRDb2xvckZvclBvbHlnb24gPSB1c2VDYWxsYmFjaygobGFiZWxJbmRleCkgPT4ge1xuICAgIGNvbnN0IGNvbG9ycyA9IFtcbiAgICAgICdyZ2JhKDI1NSwgMCwgMCwgMC41KScsXG4gICAgICAncmdiYSgyNTUsIDE0MCwgMCwgMC41KScsXG4gICAgICAncmdiYSgyNTUsIDI1NSwgMCwgMC41KScsXG4gICAgICAncmdiYSgwLCAyNTUsIDAsIDAuNSknLFxuICAgICAgJ3JnYmEoMCwgMCwgMjU1LCAwLjUpJyxcbiAgICAgICdyZ2JhKDI1NSwgMTUzLCA1MDQsIDAuNSknLFxuICAgIF07XG4gICAgcmV0dXJuIGNvbG9yc1tsYWJlbEluZGV4ICUgY29sb3JzLmxlbmd0aF07XG4gIH0sIFtdKTtcblxuICBjb25zdCBpbmNyZWFzZU9wYWNpdHkgPSAoY29sb3IpID0+IHtcbiAgICBjb25zdCBbciwgZywgYiwgYV0gPSBjb2xvci5tYXRjaCgvXFxkKy9nKS5tYXAoTnVtYmVyKTtcbiAgICBjb25zdCBpbmNyZWFzZWRPcGFjaXR5ID0gTWF0aC5taW4oYSArIDAuMiwgMSk7XG4gICAgcmV0dXJuIGByZ2JhKCR7cn0sICR7Z30sICR7Yn0sICR7aW5jcmVhc2VkT3BhY2l0eX0pYDtcbiAgfVxuXG4gIGNvbnN0IGRyYXdQb2x5Z29uID0gdXNlQ2FsbGJhY2soKHBvbHlnb24sIGN0eCkgPT4ge1xuICAgIGlmIChwb2x5Z29uLnByZWRpY3Rpb24gPCBwcmVkaWN0aW9uUmFuZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIFxuICAgIGxldCBmaWxsQ29sb3IgPSBwb2x5Z29uLmNvbG9yO1xuICAgIGlmIChwb2x5Z29uLmxhYmVsSW5kZXggPT09IHNlbGVjdGVkUG9seWdvbkluZGV4IHx8IFxuICAgICAgICBwb2x5Z29uLmxhYmVsSW5kZXggPT09IG1vZGFsUG9seWdvbkluZGV4IHx8IFxuICAgICAgICBob3ZlcmVkUG9seWdvbkluZGV4ID09PSBwb2x5Z29uLmxhYmVsSW5kZXgpIHtcbiAgICAgIGZpbGxDb2xvciA9IGluY3JlYXNlT3BhY2l0eShmaWxsQ29sb3IpO1xuICAgIH1cbiAgXG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuXG4gICAgcG9seWdvbi5wb2ludHMuZm9yRWFjaCgoW3gsIHldLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgYWRqdXN0ZWRYID0geCAqIGltZy5jdXJyZW50LndpZHRoO1xuICAgICAgY29uc3QgYWRqdXN0ZWRZID0geSAqIGltZy5jdXJyZW50LmhlaWdodDtcbiAgICAgIFxuICAgICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgIGN0eC5tb3ZlVG8oYWRqdXN0ZWRYLCBhZGp1c3RlZFkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3R4LmxpbmVUbyhhZGp1c3RlZFgsIGFkanVzdGVkWSk7XG4gICAgICB9XG4gICAgfSk7XG4gIFxuICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICBjdHguZmlsbFN0eWxlID0gZmlsbENvbG9yO1xuICAgIGN0eC5maWxsKCk7XG4gICAgY3R4LnN0cm9rZSgpO1xuXG4gICAgY29uc3QgY2VudHJvaWQgPSBwb2x5Z29uLnBvaW50cy5yZWR1Y2UoKGFjYywgW3gsIHldKSA9PiB7XG4gICAgICBhY2MueCArPSB4O1xuICAgICAgYWNjLnkgKz0geTtcbiAgICAgIHJldHVybiBhY2M7XG4gICAgfSwgeyB4OiAwLCB5OiAwIH0pO1xuICAgIGNlbnRyb2lkLnggPSAoY2VudHJvaWQueCAvIHBvbHlnb24ucG9pbnRzLmxlbmd0aCkgKiBpbWcuY3VycmVudC53aWR0aCAqIHNjYWxlRmFjdG9yICsgc3RhcnRQb3MueDtcbiAgICBjZW50cm9pZC55ID0gKGNlbnRyb2lkLnkgLyBwb2x5Z29uLnBvaW50cy5sZW5ndGgpICogaW1nLmN1cnJlbnQuaGVpZ2h0ICogc2NhbGVGYWN0b3IgKyBzdGFydFBvcy55O1xuICBcbiAgICBpZiAocG9seWdvbi50YWcgfHwgcG9seWdvbi5kZXNjcmlwdGlvbikge1xuICAgICAgY3R4LmZvbnQgPSAnMTZweCBBcmlhbCc7XG4gICAgICBjdHguZmlsbFN0eWxlID0gJ2JsYWNrJztcbiAgICAgIGN0eC50ZXh0QWxpZ24gPSAnY2VudGVyJztcbiAgICAgIGxldCB0ZXh0VG9EaXNwbGF5ID0gcG9seWdvbi50YWc7XG4gICAgICBjdHguZmlsbFRleHQodGV4dFRvRGlzcGxheSwgY2VudHJvaWQueCwgY2VudHJvaWQueSk7XG4gICAgfVxuICB9LCBbcHJlZGljdGlvblJhbmdlLCBzZWxlY3RlZFBvbHlnb25JbmRleCwgbW9kYWxQb2x5Z29uSW5kZXgsIGhvdmVyZWRQb2x5Z29uSW5kZXgsIHNjYWxlRmFjdG9yLCBzdGFydFBvcywgaW1nXSk7XG5cbiAgY29uc3QgZHJhd0N1cnJlbnRQb2x5Z29uID0gdXNlQ2FsbGJhY2soKGN0eCkgPT4ge1xuICAgIGlmIChjdXJyZW50UG9seWdvbi5sZW5ndGggPiAwKSB7XG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICBjdXJyZW50UG9seWdvbi5mb3JFYWNoKChbeCwgeV0sIGluZGV4KSA9PiB7XG4gICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgICAgIGN0eC5tb3ZlVG8oeCAqIGltZy5jdXJyZW50LndpZHRoLCB5ICogaW1nLmN1cnJlbnQuaGVpZ2h0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjdHgubGluZVRvKHggKiBpbWcuY3VycmVudC53aWR0aCwgeSAqIGltZy5jdXJyZW50LmhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgY3R4LnN0cm9rZSgpO1xuICAgIH1cbiAgfSwgW2N1cnJlbnRQb2x5Z29uXSk7XG5cbiAgY29uc3QgZHJhd0ltYWdlQW5kUG9seWdvbnMgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnQ7XG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgIGN0eC5zYXZlKCk7XG4gICAgY3R4LnRyYW5zbGF0ZShzdGFydFBvcy54LCBzdGFydFBvcy55KTtcbiAgICBjdHguc2NhbGUoc2NhbGVGYWN0b3IsIHNjYWxlRmFjdG9yKTtcbiAgICBjdHguZHJhd0ltYWdlKGltZy5jdXJyZW50LCAwLCAwKTtcblxuICAgIC8vIHBvbHlnb25zLmZvckVhY2gocG9seWdvbiA9PiBkcmF3UG9seWdvbihwb2x5Z29uLCBjdHgpKTtcbiAgICBwb2x5Z29ucy5mb3JFYWNoKHBvbHlnb24gPT4ge1xuICAgICAgaWYocG9seWdvbi5wcmVkaWN0aW9uID49IHByZWRpY3Rpb25SYW5nZSkge1xuICAgICAgICBkcmF3UG9seWdvbihwb2x5Z29uLCBjdHgpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGRyYXdDdXJyZW50UG9seWdvbihjdHgpO1xuXG4gICAgLy8gcG9seWdvbnMuZm9yRWFjaCgocG9seWdvbiwgaW5kZXgpID0+IHtcbiAgICAvLyAgIGRyYXdQb2x5Z29uKHBvbHlnb24sIGN0eCwgaW5kZXgpO1xuICAgIC8vIH0pO1xuXG4gICAgLy8gdGFncy5mb3JFYWNoKHRhZyA9PiB7XG4gICAgLy8gICBjdHguZmlsbFRleHQodGFnLnRleHQsIHRhZy54LCB0YWcueSk7XG4gICAgLy8gfSk7XG5cbiAgICBjdHgucmVzdG9yZSgpO1xuICB9LCBbcG9seWdvbnMsIGRyYXdQb2x5Z29uLCBzdGFydFBvcywgc2NhbGVGYWN0b3JdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGltZy5jdXJyZW50LnNyYyA9ICcvdGVzdDU4LmpwZyc7XG4gICAgaW1nLmN1cnJlbnQub25sb2FkID0gKCkgPT4ge1xuICAgICAgZHJhd0ltYWdlQW5kUG9seWdvbnMoKTtcbiAgICB9O1xuICB9LCBbZHJhd0ltYWdlQW5kUG9seWdvbnNdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGRyYXdJbWFnZUFuZFBvbHlnb25zKCk7XG4gIH0sIFtwcmVkaWN0aW9uUmFuZ2UsIGRyYXdJbWFnZUFuZFBvbHlnb25zXSk7XG5cbiAgLy8gY29uc3QgaXNOZWFyU3RhcnRQb2ludCA9IChwb2ludCwgc3RhcnRQb2ludCkgPT4ge1xuICAvLyAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5zcXJ0KE1hdGgucG93KHBvaW50WzBdIC0gc3RhcnRQb2ludFswXSwgMikgKyBNYXRoLnBvdyhwb2ludFsxXSAtIHN0YXJ0UG9pbnRbMV0sIDIpKTtcbiAgLy8gICByZXR1cm4gZGlzdGFuY2UgPCAwLjAxO1xuICAvLyB9O1xuXG4gIC8vIGNvbnN0IGRyYXdDdXJyZW50UG9seWdvbldpdGhOZXdQb2ludCA9IHVzZUNhbGxiYWNrKChuZXdQb2ludCkgPT4ge1xuICAvLyAgIGNvbnN0IGNhbnZhcyA9IGNhbnZhc1JlZi5jdXJyZW50O1xuICAvLyAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAvLyAgIGRyYXdDdXJyZW50UG9seWdvbihjdHgpO1xuXG4gIC8vICAgaWYgKGN1cnJlbnRQb2x5Z29uLmxlbmd0aCA+IDApIHtcbiAgLy8gICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgLy8gICAgIGN1cnJlbnRQb2x5Z29uLmZvckVhY2goKHBvaW50LCBpbmRleCkgPT4ge1xuICAvLyAgICAgICBjb25zdCBhZGp1c3RlZFggPSBwb2ludFswXSAqIGNhbnZhcy53aWR0aDtcbiAgLy8gICAgICAgY29uc3QgYWRqdXN0ZWRZID0gcG9pbnRbMV0gKiBjYW52YXMuaGVpZ2h0O1xuXG4gIC8vICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAvLyAgICAgICAgIGN0eC5tb3ZlVG8oYWRqdXN0ZWRYLCBhZGp1c3RlZFkpO1xuICAvLyAgICAgICB9IGVsc2Uge1xuICAvLyAgICAgICAgIGN0eC5saW5lVG8oYWRqdXN0ZWRYLCBhZGp1c3RlZFkpO1xuICAvLyAgICAgICB9XG5cbiAgLy8gICAgICAgY29uc29sZS5sb2coYWRqdXN0ZWRYLCBhZGp1c3RlZFkpO1xuICAvLyAgICAgfSk7XG4gIC8vICAgICBjdHgubGluZVRvKG5ld1BvaW50WzBdICogY2FudmFzLndpZHRoLCBuZXdQb2ludFsxXSAqIGNhbnZhcy5oZWlnaHQpO1xuICAvLyAgICAgY3R4LnN0cm9rZSgpO1xuICAvLyAgIH1cbiAgLy8gfSwgW2N1cnJlbnRQb2x5Z29uLCBkcmF3Q3VycmVudFBvbHlnb25dKTtcblxuICBjb25zdCBkaXN0YW5jZUJldHdlZW4gPSAoeDEsIHkxLCB4MiwgeTIpID0+IHtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KHgyIC0geDEsIDIpICsgTWF0aC5wb3coeTIgLSB5MSwgMikpO1xuICB9XG5cbiAgY29uc3QgaGFuZGxlQ2FudmFzQ2xpY2sgPSB1c2VDYWxsYmFjaygoZSkgPT4ge1xuICAgIGlmIChzaG93TW9kYWwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbXBsZXRpb25UaHJlc2hvbGQgPSAwLjAwN1xuXG4gICAgY29uc3QgcmVjdCA9IGNhbnZhc1JlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IHNjYWxlZFggPSAoZS5jbGllbnRYIC0gcmVjdC5sZWZ0IC0gc3RhcnRQb3MueCkgLyBzY2FsZUZhY3RvcjtcbiAgICBjb25zdCBzY2FsZWRZID0gKGUuY2xpZW50WSAtIHJlY3QudG9wIC0gc3RhcnRQb3MueSkgLyBzY2FsZUZhY3RvcjtcbiAgICBjb25zdCB4ID0gc2NhbGVkWCAvIGltZy5jdXJyZW50LndpZHRoO1xuICAgIGNvbnN0IHkgPSBzY2FsZWRZIC8gaW1nLmN1cnJlbnQuaGVpZ2h0O1xuICAgIGNvbnN0IGRpc3RhbmNlID0gY3VycmVudFBvbHlnb24ubGVuZ3RoID4gMCA/IGRpc3RhbmNlQmV0d2Vlbih4LCB5LCBjdXJyZW50UG9seWdvblswXVswXSwgY3VycmVudFBvbHlnb25bMF1bMV0pIDogTnVtYmVyLk1BWF9WQUxVRTtcblxuICAgIHNldEN1cnJlbnRQb2x5Z29uKHByZXYgPT4gWy4uLnByZXYsIFt4LCB5XV0pO1xuXG4gICAgaWYgKGN1cnJlbnRQb2x5Z29uLmxlbmd0aCA+IDIgJiYgZGlzdGFuY2UgPCBjb21wbGV0aW9uVGhyZXNob2xkKSB7XG4gICAgICBjb25zdCBuZXdQb2x5Z29uID0ge1xuICAgICAgICBsYWJlbEluZGV4OiAxMixcbiAgICAgICAgLy8gcG9pbnRzOiBbLi4uY3VycmVudFBvbHlnb24sIGN1cnJlbnRQb2x5Z29uWzBdXSxcbiAgICAgICAgcG9pbnRzOiBbLi4uY3VycmVudFBvbHlnb24sIFt4LCB5XV0sXG4gICAgICAgIHByZWRpY3Rpb246IDAuOTUsXG4gICAgICAgIGNvbG9yOiBnZXRDb2xvckZvclBvbHlnb24oMTIpXG4gICAgICB9O1xuICAgICAgc2V0UG9seWdvbnMocHJldiA9PiBbLi4ucHJldiwgbmV3UG9seWdvbl0pO1xuICAgICAgc2V0Q3VycmVudFBvbHlnb24oW10pO1xuICAgIH1cblxuICAgIGxldCBmb3VuZFBvbHlnb25JbmRleCA9IG51bGw7XG4gICAgcG9seWdvbnMuZm9yRWFjaCgocG9seWdvbiwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChwb2x5Z29uLnByZWRpY3Rpb24gPj0gcHJlZGljdGlvblJhbmdlKSB7XG4gICAgICAgIGZvdW5kUG9seWdvbkluZGV4ID0gaW5kZXg7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBzZXRTZWxlY3RlZFBvbHlnb25JbmRleChmb3VuZFBvbHlnb25JbmRleCAhPT0gbnVsbCA/IGZvdW5kUG9seWdvbkluZGV4IDogJ05vbmUnKTtcblxuICB9LFtzaG93TW9kYWwsIGN1cnJlbnRQb2x5Z29uLCBwb2x5Z29ucywgc3RhcnRQb3MsIHNjYWxlRmFjdG9yLCBpbWddKTtcblxuICBjb25zdCBoYW5kbGVDYW52YXNSaWdodENsaWNrID0gKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBpZiAoY3VycmVudFBvbHlnb24ubGVuZ3RoID4gMCkge1xuICAgICAgc2V0Q3VycmVudFBvbHlnb24oW10pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNldFNob3dNb2RhbCh0cnVlKTtcbiAgICBzZXRNb2RhbFBvcyh7XG4gICAgICB4OiBlLmNsaWVudFggKyB3aW5kb3cuc2Nyb2xsWCxcbiAgICAgIHk6IGUuY2xpZW50WSArIHdpbmRvdy5zY3JvbGxZIFxuICAgIH0pO1xuXG4gICAgY29uc3QgcmVjdCA9IGNhbnZhc1JlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IG1vdXNlWCA9IChlLmNsaWVudFggLSByZWN0LmxlZnQgLSBzdGFydFBvcy54KSAvIHNjYWxlRmFjdG9yO1xuICAgIGNvbnN0IG1vdXNlWSA9IChlLmNsaWVudFkgLSByZWN0LnRvcCAtIHN0YXJ0UG9zLnkpIC8gc2NhbGVGYWN0b3I7XG5cbiAgICBsZXQgZm91bmRQb2x5Z29uSW5kZXggPSBudWxsO1xuICAgIHBvbHlnb25zLmZvckVhY2goKHBvbHlnb24sIGluZGV4KSA9PiB7XG4gICAgICBpZiAoaXNNb3VzZUluUG9seWdvbihtb3VzZVgsIG1vdXNlWSwgcG9seWdvbikpIHtcbiAgICAgICAgZm91bmRQb2x5Z29uSW5kZXggPSBpbmRleDtcbiAgICAgICAgc2V0TW9kYWxQb2x5Z29uSW5kZXgoaW5kZXgpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHNldE1vZGFsUG9seWdvbkluZGV4KGZvdW5kUG9seWdvbkluZGV4KTtcblxuICAgIGlmIChmb3VuZFBvbHlnb25JbmRleCAhPT0gbnVsbCkge1xuICAgICAgc2V0TW9kYWxQb2x5Z29uSW5kZXgoZm91bmRQb2x5Z29uSW5kZXgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRDdXJyZW50UG9seWdvbihbXSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGlzTW91c2VJblBvbHlnb24gPSB1c2VDYWxsYmFjaygobW91c2VYLCBtb3VzZVksIHBvbHlnb24pID0+IHtcbiAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudDtcbiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBjdHguc2F2ZSgpO1xuICAgIGN0eC5zZXRUcmFuc2Zvcm0oc2NhbGVGYWN0b3IsIDAsIDAsIHNjYWxlRmFjdG9yLCBzdGFydFBvcy54LCBzdGFydFBvcy55KTtcblxuICAgIGN0eC5iZWdpblBhdGgoKTtcblxuICAgIGlmIChwb2x5Z29uICYmIEFycmF5LmlzQXJyYXkocG9seWdvbi5wb2ludHMpKSB7XG4gICAgICBwb2x5Z29uLnBvaW50cy5mb3JFYWNoKChbeCwgeV0sIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHBvbHlYID0geCAqIGltZy5jdXJyZW50LndpZHRoO1xuICAgICAgICBjb25zdCBwb2x5WSA9IHkgKiBpbWcuY3VycmVudC5oZWlnaHQ7XG5cbiAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgICAgY3R4Lm1vdmVUbyhwb2x5WCwgcG9seVkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGN0eC5saW5lVG8ocG9seVgsIHBvbHlZKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9O1xuICAgIFxuICAgIGN0eC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCk7XG4gICAgY29uc3QgaXNJblBhdGggPSBjdHguaXNQb2ludEluUGF0aChtb3VzZVgsIG1vdXNlWSk7XG4gICAgXG4gICAgY3R4LnJlc3RvcmUoKTtcbiAgICByZXR1cm4gaXNJblBhdGg7XG4gIH0sIFtzY2FsZUZhY3Rvciwgc3RhcnRQb3MsIGltZ10pO1xuXG4gIGNvbnN0IGhhbmRsZU1vdXNlRG93biA9IHVzZUNhbGxiYWNrKChlKSA9PiB7XG4gICAgaWYgKGUuYnV0dG9uID09PSAxKSB7XG4gICAgICBzZXRJc1doZWVsRG93bih0cnVlKTtcbiAgICAgIGRyYWdTdGFydC5jdXJyZW50ID0geyB4OiBlLmNsaWVudFgsIHk6IGUuY2xpZW50WSB9O1xuICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmN1cnNvciA9ICdncmFiYmluZyc7XG4gICAgfSBlbHNlIGlmIChlLmJ1dHRvbiA9PT0gMCkge1xuICAgICAgY29uc3QgcmVjdCA9IGNhbnZhc1JlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgY29uc3QgbW91c2VYID0gZS5jbGllbnRYIC0gcmVjdC5sZWZ0O1xuICAgICAgY29uc3QgbW91c2VZID0gZS5jbGllbnRZIC0gcmVjdC50b3A7XG4gIFxuICAgICAgbGV0IGZvdW5kUG9seWdvbiA9IGZhbHNlO1xuICBcbiAgICAgIHBvbHlnb25zLmZvckVhY2gocG9seWdvbiA9PiB7XG4gICAgICAgIGlmIChpc01vdXNlSW5Qb2x5Z29uKG1vdXNlWCwgbW91c2VZLCBwb2x5Z29uKSkge1xuICAgICAgICAgIHNldFNlbGVjdGVkUG9seWdvbkluZGV4KHBvbHlnb24ubGFiZWxJbmRleCk7XG4gICAgICAgICAgZm91bmRQb2x5Z29uID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIFxuICAgICAgaWYgKCFmb3VuZFBvbHlnb24pIHtcbiAgICAgICAgc2V0U2VsZWN0ZWRQb2x5Z29uSW5kZXgoJ05vbmUnKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtwb2x5Z29ucywgaXNXaGVlbERvd25dKTtcbiAgXG4gY29uc3QgaGFuZGxlTW91c2VNb3ZlID0gdXNlQ2FsbGJhY2soKGUpID0+IHtcbiAgICBpZiAoaXNXaGVlbERvd24pIHtcbiAgICAgIGNvbnN0IG5ld09mZnNldCA9IHtcbiAgICAgICAgeDogc3RhcnRQb3MueCArIChlLmNsaWVudFggLSBkcmFnU3RhcnQuY3VycmVudC54KSxcbiAgICAgICAgeTogc3RhcnRQb3MueSArIChlLmNsaWVudFkgLSBkcmFnU3RhcnQuY3VycmVudC55KSxcbiAgICAgIH07XG4gICAgICBzZXRTdGFydFBvcyhuZXdPZmZzZXQpO1xuICAgICAgZHJhZ1N0YXJ0LmN1cnJlbnQgPSB7IHg6IGUuY2xpZW50WCwgeTogZS5jbGllbnRZIH07XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSBlbHNlIHsgXG4gICAgICBjb25zdCByZWN0ID0gY2FudmFzUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBjb25zdCBtb3VzZVggPSBlLmNsaWVudFggLSByZWN0LmxlZnQ7XG4gICAgICBjb25zdCBtb3VzZVkgPSBlLmNsaWVudFkgLSByZWN0LnRvcDtcbiAgXG4gICAgICBsZXQgZm91bmRQb2x5Z29uID0gZmFsc2U7XG4gICAgICBwb2x5Z29ucy5mb3JFYWNoKChwb2x5Z29uKSA9PiB7XG4gICAgICAgIGlmIChpc01vdXNlSW5Qb2x5Z29uKG1vdXNlWCwgbW91c2VZLCBwb2x5Z29uKSkge1xuICAgICAgICAgIHNldFNlbGVjdGVkUG9seWdvbkluZGV4KHBvbHlnb24ubGFiZWxJbmRleCk7XG4gICAgICAgICAgZm91bmRQb2x5Z29uID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgXG4gICAgICBpZiAoIWZvdW5kUG9seWdvbikge1xuICAgICAgICBzZXRTZWxlY3RlZFBvbHlnb25JbmRleChcIk5vbmVcIik7XG4gICAgICB9XG4gICAgfVxuICB9LCBbaXNXaGVlbERvd24sIHBvbHlnb25zLCBzdGFydFBvc10pO1xuICBcbiAgY29uc3QgaGFuZGxlTW91c2VVcCA9IHVzZUNhbGxiYWNrKChlKSA9PiB7XG4gICAgaWYgKGUuYnV0dG9uID09PSAxKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBzZXRJc1doZWVsRG93bihmYWxzZSk7XG4gICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuY3Vyc29yID0gJ2RlZmF1bHQnO1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIGNvbnN0IGhhbmRsZVdoZWVsID0gKGUpID0+IHtcbiAgICBpZiAoIWlzV2hlZWxEb3duKSB7XG4gICAgICBjb25zdCBkZWx0YSA9IE1hdGguc2lnbihlLmRlbHRhWSk7XG4gICAgICBzZXRTY2FsZUZhY3RvcihwcmV2U2NhbGUgPT4ge1xuICAgICAgICBsZXQgbmV3U2NhbGUgPSBkZWx0YSA+IDAgPyBwcmV2U2NhbGUgKyAwLjEgOiBNYXRoLm1heChwcmV2U2NhbGUgLSAwLjEsIDAuMSk7XG4gICAgICAgIHJldHVybiBuZXdTY2FsZTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVGaWxlQ2hhbmdlID0gKGUpID0+IHtcbiAgICBjb25zdCBmaWxlID0gZS50YXJnZXQuZmlsZXNbMF07XG4gICAgaWYgKCFmaWxlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICBcbiAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgIHJlYWRlci5vbmxvYWQgPSAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udGVudCA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgIHNldEZpbGVDb250ZW50KGNvbnRlbnQpO1xuICAgICAgcHJvY2Vzc0ZpbGVDb250ZW50KGNvbnRlbnQpO1xuICAgIH07XG4gICAgcmVhZGVyLnJlYWRBc1RleHQoZmlsZSk7XG4gIH07XG5cbiAgY29uc3QgcHJvY2Vzc0ZpbGVDb250ZW50ID0gKGNvbnRlbnQpID0+IHtcbiAgICBjb25zdCBqc29uRGF0YSA9IEpTT04ucGFyc2UoY29udGVudCk7XG4gICAgY29uc3QgbG9hZGVkUG9seWdvbnMgPSBPYmplY3QudmFsdWVzKGpzb25EYXRhKS5tYXAoaXRlbSA9PiB7XG4gICAgICBjb25zdCBpdGVtU3RyID0gdHlwZW9mIGl0ZW0gPT09ICdzdHJpbmcnID8gaXRlbS50cmltKCkgOiBKU09OLnN0cmluZ2lmeShpdGVtKS50cmltKCk7XG5cbiAgICAgIGNvbnN0IHBhcnRzID0gaXRlbVN0ci5zcGxpdCgnICcpO1xuICAgICAgY29uc3QgbGFiZWxJbmRleCA9IHBhcnNlSW50KHBhcnRzWzBdLCAxMCk7XG4gICAgICBjb25zdCBwcmVkaWN0aW9uVmFsdWUgPSBwYXJzZUZsb2F0KHBhcnRzW3BhcnRzLmxlbmd0aCAtIDFdKTtcbiAgICAgIGNvbnN0IHBvaW50cyA9IHBhcnRzXG4gICAgICAgIC5zbGljZSgxLCAtMSlcbiAgICAgICAgLm1hcCgocGFydCwgaW5kZXgsIGFycmF5KSA9PlxuICAgICAgICAgIGluZGV4ICUgMiA9PT0gMCA/IFtwYXJzZUZsb2F0KGFycmF5W2luZGV4XSksIHBhcnNlRmxvYXQoYXJyYXlbaW5kZXggKyAxXSldIDogbnVsbFxuICAgICAgICApXG4gICAgICAgIC5maWx0ZXIocG9pbnQgPT4gcG9pbnQpO1xuICAgICAgY29uc3QgY29sb3IgPSBnZXRDb2xvckZvclBvbHlnb24obGFiZWxJbmRleCk7XG4gICAgICByZXR1cm4geyBsYWJlbEluZGV4LCBwb2ludHMsIHByZWRpY3Rpb246IHByZWRpY3Rpb25WYWx1ZSwgY29sb3IgfTtcbiAgICB9KTtcbiAgICBzZXRQb2x5Z29ucyhsb2FkZWRQb2x5Z29ucyk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRGVsZXRlUG9seWdvbiA9ICgpID0+IHtcbiAgICBpZiAobW9kYWxQb2x5Z29uSW5kZXggIT09IG51bGwpIHtcbiAgICAgIHNldFBvbHlnb25zKHByZXYgPT4gcHJldi5maWx0ZXIoKF8sIGluZGV4KSA9PiBpbmRleCAhPT0gbW9kYWxQb2x5Z29uSW5kZXgpKTtcbiAgICB9XG4gICAgc2V0U2hvd01vZGFsKGZhbHNlKTtcbiAgICBzZXRNb2RhbFBvbHlnb25JbmRleChudWxsKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVNb2RhbElucHV0VXBkYXRlID0gKG1vZGFsSW5wdXRWYWx1ZSkgPT4ge1xuICAgIGlmIChtb2RhbFBvbHlnb25JbmRleCAhPT0gbnVsbCkge1xuICAgICAgY29uc3QgdXBkYXRlZFBvbHlnb25zID0gcG9seWdvbnMubWFwKChwb2x5Z29uLCBpbmRleCkgPT4ge1xuICAgICAgICBpZiAoaW5kZXggPT09IG1vZGFsUG9seWdvbkluZGV4KSB7XG4gICAgICAgICAgcmV0dXJuIHsgLi4ucG9seWdvbiwgdGFnOiBtb2RhbElucHV0VmFsdWUudGFnLCBkZXNjcmlwdGlvbjogbW9kYWxJbnB1dFZhbHVlLmRlc2NyaXB0aW9uIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBvbHlnb247XG4gICAgICB9KTtcbiAgICAgIHNldFBvbHlnb25zKHVwZGF0ZWRQb2x5Z29ucyk7XG4gICAgfVxuICAgIHNldFNob3dNb2RhbChmYWxzZSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQWRkUGhvdG9Nb3VudCA9IChuZXdQaG90b01vdW50KSA9PiB7XG4gICAgc2V0UGhvdG9Nb3VudHMoWy4uLnBob3RvTW91bnRzLCBuZXdQaG90b01vdW50XSk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2PlxuICAgICAgPGRpdj5cbiAgICAgIHsvKiBFeGlzdGluZyBwaG90byBtb3VudHMgKi99XG4gICAgICA8ZGl2IGNzcz17cGhvdG9Nb3VudHNDb250YWluZXJTdHlsZX0+XG4gICAgICAgIHtwaG90b01vdW50cy5tYXAoKG1vdW50LCBpbmRleCkgPT4gKFxuICAgICAgICAgIDxkaXYga2V5PXtpbmRleH0gY3NzPXtwaG90b01vdW50U3R5bGV9PlxuICAgICAgICAgICAgPGltZyBzcmM9e21vdW50LmltZ1NyY30gYWx0PXtgTW91bnQgJHtpbmRleH1gfSAvPlxuICAgICAgICAgICAgey8qIEFkZCBvdGhlciBkZXRhaWxzIGxpa2UgdGFnLCBkZXNjcmlwdGlvbiwgZXRjLiAqL31cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSl9XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIEFkZCBuZXcgcGhvdG8gbW91bnQgKi99XG4gICAgICA8aW5wdXRcbiAgICAgICAgdHlwZT1cImZpbGVcIlxuICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICBjb25zdCBmaWxlID0gZS50YXJnZXQuZmlsZXNbMF07XG4gICAgICAgICAgY29uc3QgbmV3UGhvdG9Nb3VudCA9IHtcbiAgICAgICAgICAgIGltZ1NyYzogVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGhhbmRsZUFkZFBob3RvTW91bnQobmV3UGhvdG9Nb3VudCk7XG4gICAgICAgIH19XG4gICAgICAvPlxuICAgIDwvZGl2PlxuXG4gICAgICA8aW5wdXQgdHlwZT1cImZpbGVcIiBvbkNoYW5nZT17aGFuZGxlRmlsZUNoYW5nZX0gLz5cbiAgICAgIDxwPuyYiOy4oeqwkiDrspTsnIQ6IDxzcGFuPntwcmVkaWN0aW9uUmFuZ2V9PC9zcGFuPjwvcD5cbiAgICAgIDxpbnB1dFxuICAgICAgICAgIHR5cGU9XCJyYW5nZVwiXG4gICAgICAgICAgbWluPVwiMFwiXG4gICAgICAgICAgbWF4PVwiMVwiXG4gICAgICAgICAgc3RlcD1cIjAuMDFcIlxuICAgICAgICAgIHZhbHVlPXtwcmVkaWN0aW9uUmFuZ2V9XG4gICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRQcmVkaWN0aW9uUmFuZ2UoZS50YXJnZXQudmFsdWUpfVxuICAgICAgLz5cbiAgICAgIDxjYW52YXNcbiAgICAgICAgcmVmPXtjYW52YXNSZWZ9XG4gICAgICAgIHdpZHRoPXs3MDB9XG4gICAgICAgIGhlaWdodD17OTAwfVxuICAgICAgICBvbk1vdXNlRG93bj17aGFuZGxlTW91c2VEb3dufVxuICAgICAgICBvbk1vdXNlVXA9e2hhbmRsZU1vdXNlVXB9XG4gICAgICAgIG9uTW91c2VNb3ZlPXtoYW5kbGVNb3VzZU1vdmV9XG4gICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNhbnZhc0NsaWNrfVxuICAgICAgICBvbkNvbnRleHRNZW51PXtoYW5kbGVDYW52YXNSaWdodENsaWNrfVxuICAgICAgICBvbldoZWVsPXtoYW5kbGVXaGVlbH1cbiAgICAgIC8+XG4gICAgICB7c2hvd01vZGFsICYmIChcbiAgICAgICAgPENhbnZhc01vZGFsXG4gICAgICAgICAgbW9kYWxQb3M9e21vZGFsUG9zfVxuICAgICAgICAgIG9uRGVsZXRlPXtoYW5kbGVEZWxldGVQb2x5Z29ufVxuICAgICAgICAgIG9uTW9kYWxJbnB1dFVwZGF0ZT17aGFuZGxlTW9kYWxJbnB1dFVwZGF0ZX1cbiAgICAgICAgICBzZXRTaG93TW9kYWw9e3NldFNob3dNb2RhbH1cbiAgICAgICAgICBjdXJyZW50RGF0YT17cG9seWdvbnNbbW9kYWxQb2x5Z29uSW5kZXhdfVxuICAgICAgICAvPlxuICAgICAgKX1cbiAgICAgIDxwPuyEoO2DneuQnCDtj7Trpqzqs6Qg652867KoIOyduOuNseyKpDogPHNwYW4+e3NlbGVjdGVkUG9seWdvbkluZGV4fTwvc3Bhbj48L3A+XG4gICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldFNjYWxlRmFjdG9yKHNjYWxlRmFjdG9yICsgMC4xKX0+7ZmV64yAPC9idXR0b24+XG4gICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldFNjYWxlRmFjdG9yKHNjYWxlRmFjdG9yIC0gMC4xKX0+7LaV7IaMPC9idXR0b24+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhbnZhczsiXSwibmFtZXMiOlsiQ2FudmFzTW9kYWwiLCJjc3MiLCJSZWFjdCIsInVzZUNhbGxiYWNrIiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJwaG90b01vdW50c0NvbnRhaW5lclN0eWxlIiwicGhvdG9Nb3VudFN0eWxlIiwiQ2FudmFzIiwicG9seWdvbnMiLCJzZXRQb2x5Z29ucyIsInNlbGVjdGVkUG9seWdvbkluZGV4Iiwic2V0U2VsZWN0ZWRQb2x5Z29uSW5kZXgiLCJwcmVkaWN0aW9uUmFuZ2UiLCJzZXRQcmVkaWN0aW9uUmFuZ2UiLCJzY2FsZUZhY3RvciIsInNldFNjYWxlRmFjdG9yIiwiY3VycmVudFBvbHlnb24iLCJzZXRDdXJyZW50UG9seWdvbiIsImlzV2hlZWxEb3duIiwic2V0SXNXaGVlbERvd24iLCJzdGFydFBvcyIsInNldFN0YXJ0UG9zIiwieCIsInkiLCJmaWxlQ29udGVudCIsInNldEZpbGVDb250ZW50Iiwic2hvd01vZGFsIiwic2V0U2hvd01vZGFsIiwibW9kYWxQb3MiLCJzZXRNb2RhbFBvcyIsIm1vZGFsUG9seWdvbkluZGV4Iiwic2V0TW9kYWxQb2x5Z29uSW5kZXgiLCJob3ZlcmVkUG9seWdvbkluZGV4Iiwic2V0SG92ZXJlZFBvbHlnb25JbmRleCIsInBob3RvTW91bnRzIiwic2V0UGhvdG9Nb3VudHMiLCJjYW52YXNSZWYiLCJkcmFnU3RhcnQiLCJpbWciLCJJbWFnZSIsImlzVmlzaWJsZSIsImZvckVhY2giLCJwb2x5Z29uIiwibGFiZWxJbmRleCIsInByZWRpY3Rpb24iLCJnZXRDb2xvckZvclBvbHlnb24iLCJjb2xvcnMiLCJsZW5ndGgiLCJpbmNyZWFzZU9wYWNpdHkiLCJjb2xvciIsInIiLCJnIiwiYiIsImEiLCJtYXRjaCIsIm1hcCIsIk51bWJlciIsImluY3JlYXNlZE9wYWNpdHkiLCJNYXRoIiwibWluIiwiZHJhd1BvbHlnb24iLCJjdHgiLCJmaWxsQ29sb3IiLCJiZWdpblBhdGgiLCJwb2ludHMiLCJpbmRleCIsImFkanVzdGVkWCIsImN1cnJlbnQiLCJ3aWR0aCIsImFkanVzdGVkWSIsImhlaWdodCIsIm1vdmVUbyIsImxpbmVUbyIsImNsb3NlUGF0aCIsImZpbGxTdHlsZSIsImZpbGwiLCJzdHJva2UiLCJjZW50cm9pZCIsInJlZHVjZSIsImFjYyIsInRhZyIsImRlc2NyaXB0aW9uIiwiZm9udCIsInRleHRBbGlnbiIsInRleHRUb0Rpc3BsYXkiLCJmaWxsVGV4dCIsImRyYXdDdXJyZW50UG9seWdvbiIsImRyYXdJbWFnZUFuZFBvbHlnb25zIiwiY2FudmFzIiwiZ2V0Q29udGV4dCIsImNsZWFyUmVjdCIsInNhdmUiLCJ0cmFuc2xhdGUiLCJzY2FsZSIsImRyYXdJbWFnZSIsInJlc3RvcmUiLCJzcmMiLCJvbmxvYWQiLCJkaXN0YW5jZUJldHdlZW4iLCJ4MSIsInkxIiwieDIiLCJ5MiIsInNxcnQiLCJwb3ciLCJoYW5kbGVDYW52YXNDbGljayIsImUiLCJjb21wbGV0aW9uVGhyZXNob2xkIiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInNjYWxlZFgiLCJjbGllbnRYIiwibGVmdCIsInNjYWxlZFkiLCJjbGllbnRZIiwidG9wIiwiZGlzdGFuY2UiLCJNQVhfVkFMVUUiLCJwcmV2IiwibmV3UG9seWdvbiIsImZvdW5kUG9seWdvbkluZGV4IiwiaGFuZGxlQ2FudmFzUmlnaHRDbGljayIsInByZXZlbnREZWZhdWx0Iiwid2luZG93Iiwic2Nyb2xsWCIsInNjcm9sbFkiLCJtb3VzZVgiLCJtb3VzZVkiLCJpc01vdXNlSW5Qb2x5Z29uIiwic2V0VHJhbnNmb3JtIiwiQXJyYXkiLCJpc0FycmF5IiwicG9seVgiLCJwb2x5WSIsImlzSW5QYXRoIiwiaXNQb2ludEluUGF0aCIsImhhbmRsZU1vdXNlRG93biIsImJ1dHRvbiIsImN1cnJlbnRUYXJnZXQiLCJzdHlsZSIsImN1cnNvciIsImZvdW5kUG9seWdvbiIsImhhbmRsZU1vdXNlTW92ZSIsIm5ld09mZnNldCIsImhhbmRsZU1vdXNlVXAiLCJoYW5kbGVXaGVlbCIsImRlbHRhIiwic2lnbiIsImRlbHRhWSIsInByZXZTY2FsZSIsIm5ld1NjYWxlIiwibWF4IiwiaGFuZGxlRmlsZUNoYW5nZSIsImZpbGUiLCJ0YXJnZXQiLCJmaWxlcyIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJjb250ZW50IiwicmVzdWx0IiwicHJvY2Vzc0ZpbGVDb250ZW50IiwicmVhZEFzVGV4dCIsImpzb25EYXRhIiwiSlNPTiIsInBhcnNlIiwibG9hZGVkUG9seWdvbnMiLCJPYmplY3QiLCJ2YWx1ZXMiLCJpdGVtIiwiaXRlbVN0ciIsInRyaW0iLCJzdHJpbmdpZnkiLCJwYXJ0cyIsInNwbGl0IiwicGFyc2VJbnQiLCJwcmVkaWN0aW9uVmFsdWUiLCJwYXJzZUZsb2F0Iiwic2xpY2UiLCJwYXJ0IiwiYXJyYXkiLCJmaWx0ZXIiLCJwb2ludCIsImhhbmRsZURlbGV0ZVBvbHlnb24iLCJfIiwiaGFuZGxlTW9kYWxJbnB1dFVwZGF0ZSIsIm1vZGFsSW5wdXRWYWx1ZSIsInVwZGF0ZWRQb2x5Z29ucyIsImhhbmRsZUFkZFBob3RvTW91bnQiLCJuZXdQaG90b01vdW50IiwiZGl2IiwibW91bnQiLCJpbWdTcmMiLCJhbHQiLCJpbnB1dCIsInR5cGUiLCJvbkNoYW5nZSIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsInAiLCJzcGFuIiwic3RlcCIsInZhbHVlIiwicmVmIiwib25Nb3VzZURvd24iLCJvbk1vdXNlVXAiLCJvbk1vdXNlTW92ZSIsIm9uQ2xpY2siLCJvbkNvbnRleHRNZW51Iiwib25XaGVlbCIsIm9uRGVsZXRlIiwib25Nb2RhbElucHV0VXBkYXRlIiwiY3VycmVudERhdGEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/page.tsx\n"));

/***/ })

});